<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá´üá∑ IB French Tracker Pro</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Poppins:wght@400;600;800&display=swap');
        
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f1f5f9;
            --primary: #8b5cf6;
            --accent: #38bdf8;
            --correct: #22c55e;
            --wrong: #ef4444;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }

        .app-container {
            background-color: var(--card);
            padding: 30px;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            width: 90%;
            max-width: 600px;
            text-align: center;
            border: 1px solid #334155;
            position: relative;
        }

        /* HUD */
        .hud {
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.3);
            padding: 10px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            color: var(--accent);
        }

        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #334155;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 25px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 0.3s ease;
        }

        h1 { margin: 0 0 10px 0; background: -webkit-linear-gradient(0deg, var(--accent), var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .question { font-size: 1.3em; font-weight: 600; margin-bottom: 25px; min-height: 60px; line-height: 1.5; }
        .category-tag { background-color: #334155; color: #94a3b8; padding: 4px 12px; border-radius: 20px; font-size: 0.7em; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 15px; display: inline-block; }

        .options-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        @media(min-width: 500px) { .options-grid { grid-template-columns: 1fr 1fr; } }

        button {
            background: #334155; color: white; border: none; padding: 16px; border-radius: 12px;
            font-size: 1em; cursor: pointer; transition: all 0.2s; font-family: 'Poppins', sans-serif;
            border: 2px solid transparent; position: relative; overflow: hidden;
        }
        button:hover { background: #475569; transform: translateY(-2px); }
        
        button.correct { background: rgba(34, 197, 94, 0.2) !important; border-color: var(--correct); color: var(--correct); }
        button.wrong { background: rgba(239, 68, 68, 0.2) !important; border-color: var(--wrong); color: var(--wrong); }

        .feedback-box { margin-top: 20px; padding: 15px; background: #0f172a; border-radius: 12px; display: none; text-align: left; border-left: 4px solid var(--primary); }
        .feedback-box.show { display: block; animation: slideUp 0.3s; }
        .explanation { font-size: 0.9em; color: #cbd5e1; margin-top: 5px; line-height: 1.4; }
        .next-btn { width: 100%; margin-top: 15px; background: var(--primary); color: white; font-weight: bold; }
        .next-btn:hover { background: #7c3aed; }

        .loader { width: 48px; height: 48px; border: 5px solid #FFF; border-bottom-color: var(--primary); border-radius: 50%; display: inline-block; box-sizing: border-box; animation: rotation 1s linear infinite; margin-top: 20px; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .hidden { display: none !important; }
        
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0; }
        .stat-card { background: #0f172a; padding: 10px; border-radius: 10px; font-size: 0.9em; }
        .stat-val { display: block; font-size: 1.4em; font-weight: bold; color: var(--accent); }
    </style>
</head>
<body>

    <!-- START SCREEN -->
    <div id="start-screen" class="app-container">
        <h1>üá´üá∑ IB French Blitz</h1>
        <p style="color: #94a3b8; font-size: 0.9em;">30 Questions ‚Ä¢ Singapore Time Tracking ‚Ä¢ Advanced Analytics</p>
        <div style="font-size: 4em; margin: 20px 0;">‚ö°</div>
        <button class="next-btn" onclick="initApp()">Commencer le Quiz</button>
        <div id="loading-spinner" class="hidden"><span class="loader"></span><p>Initializing...</p></div>
    </div>

    <!-- QUIZ SCREEN -->
    <div id="quiz-screen" class="app-container hidden">
        <div class="hud">
            <span>Q: <span id="q-current">1</span>/<span id="q-total">30</span></span>
            <span>‚è±Ô∏è <span id="timer">00:00</span></span>
            <span>üî• <span id="streak">0</span></span>
        </div>
        <div class="progress-container"><div id="progress-bar" class="progress-fill"></div></div>

        <span id="category-badge" class="category-tag">Grammar</span>
        <div id="question-text" class="question">Loading...</div>

        <div id="options-container" class="options-grid"></div>

        <div id="feedback" class="feedback-box">
            <span id="feedback-title" style="font-weight:bold; font-size: 1.1em;"></span>
            <p id="feedback-expl" class="explanation"></p>
            <button class="next-btn" onclick="nextQuestion()">Continuer ‚ûú</button>
        </div>
    </div>

    <!-- END SCREEN -->
    <div id="end-screen" class="app-container hidden">
        <h1>Quiz Termin√©! üéâ</h1>
        
        <div class="stats-grid">
            <div class="stat-card"><span class="stat-val" id="end-score">0%</span>Accuracy</div>
            <div class="stat-card"><span class="stat-val" id="end-time">00:00</span>Duration</div>
            <div class="stat-card"><span class="stat-val" id="end-avg">0s</span>Avg Time/Q</div>
            <div class="stat-card"><span class="stat-val" id="end-weak">None</span>Needs Work</div>
        </div>

        <p id="api-status" style="color: #64748b; font-size: 0.8em; margin-top: 10px;">Syncing with Cloud...</p>
        <button class="next-btn" onclick="location.reload()">Nouvelle Partie</button>
    </div>

    <script>
        // ==========================================
        // ‚öôÔ∏è CONFIGURATION
        // ==========================================
        
        // üëá PASTE YOUR URL INSIDE THE QUOTES BELOW üëá
        const GOOGLE_SCRIPT_URL = "PASTE_YOUR_GOOGLE_SCRIPT_URL_HERE"; 
        
        // ==========================================

        const QUESTIONS_PER_ROUND = 30;
        let allQuestions = [];
        let gameQueue = [];
        let score = 0;
        let streak = 0;
        let currentQIndex = 0;
        let retryCount = 0;
        
        let startTimeObj;
        let endTimeObj;
        let questionStartTime;
        let totalQuestionTime = 0;
        let categoryPerformance = {}; 

        function initApp() {
            document.querySelector('button').classList.add('hidden');
            document.getElementById('loading-spinner').classList.remove('hidden');

            // EMBEDDED DATABASE (FIXED & MERGED)
            allQuestions = [
  {"id":1,"category":"Connectors","question":"Il pleut, ___ je prends mon parapluie.","options":["pourtant","donc","car","puisque"],"answer":1,"explanation":"'Donc' indicates a consequence."},
  {"id":2,"category":"Connectors","question":"___ il soit riche, il n'est pas g√©n√©reux.","options":["Bien qu'","Parce qu'","D√®s qu'","Alors qu'"],"answer":0,"explanation":"'Bien que' triggers the subjunctive (soit) and shows contrast."},
  {"id":3,"category":"Grammar","question":"Il faut que tu ___ tes devoirs.","options":["fais","fasses","faire","feras"],"answer":1,"explanation":"'Il faut que' triggers the Subjunctive. 'Fasses' is the subjunctive of 'faire'."},
  {"id":4,"category":"Text Types","question":"Format: Ends with '√Ä demain,'","options":["Article","Blog","Journal intime","Discours"],"answer":2,"explanation":"A diary entry is personal and informal."},
  {"id":5,"category":"False Friends","question":"'Actuellement' means:","options":["Actually","Currently","Actively","Surely"],"answer":1,"explanation":"'Actuellement' = Currently. 'Actually' = En fait."},
  {"id":6,"category":"Vocab","question":"Synonyme de: 'Un b√¢timent'","options":["Un bateau","Un √©difice","Une bataille","Une b√™te"],"answer":1,"explanation":"'√âdifice' is a synonym for building."},
  {"id":7,"category":"Connectors","question":"Je suis fatigu√©. ___, je vais me coucher.","options":["En revanche","Par cons√©quent","Toutefois","N√©anmoins"],"answer":1,"explanation":"'Par cons√©quent' links cause to result."},
  {"id":8,"category":"Grammar","question":"Avant que nous ___ (partir).","options":["partons","partirons","partions","sommes partis"],"answer":2,"explanation":"'Avant que' ALWAYS triggers the Subjunctive."},
  {"id":9,"category":"Idioms","question":"It costs an arm and a leg = '√áa co√ªte ___'.","options":["les yeux de la t√™te","un bras","la peau du dos","tr√®s cher"],"answer":0,"explanation":"Idiom: '√áa co√ªte les yeux de la t√™te'."},
  {"id":10,"category":"Text Types","question":"Date location in a Formal Letter?","options":["Bottom left","Top left","Top right","Bottom right"],"answer":2,"explanation":"Date goes top right in formal letters."},
  {"id":11,"category":"Grammar","question":"Si j'avais de l'argent, je ___ (voyager).","options":["voyagerai","voyageais","voyagerais","ai voyag√©"],"answer":2,"explanation":"Si + Imparfait = Conditionnel."},
  {"id":12,"category":"False Friends","question":"Translate: 'Attendre'","options":["To attend","To wait","To reach","To tender"],"answer":1,"explanation":"'Attendre' = To Wait. To Attend = Assister √†."},
  {"id":13,"category":"Vocab","question":"'Sustainability' in French?","options":["Soutenir","Durabilit√©","Substance","D√©veloppement"],"answer":1,"explanation":"Durabilit√© = Sustainability."},
  {"id":14,"category":"Grammar","question":"Passive: 'La pomme ___ par le gar√ßon.'","options":["est mang√©","est mang√©e","a mang√©","sera mang√©"],"answer":1,"explanation":"Passive voice agrees with the subject (La pomme)."},
  {"id":15,"category":"Connectors","question":"Il ne mange pas de viande ___ il est v√©g√©tarien.","options":["donc","car","pourtant","au contraire"],"answer":1,"explanation":"'Car' explains the cause."},
  {"id":16,"category":"Grammar","question":"Je doute qu'il ___ (venir).","options":["vient","vienne","viendra","venait"],"answer":1,"explanation":"Doubt triggers the subjunctive."},
  {"id":17,"category":"False Friends","question":"What is a 'Librairie'?","options":["Library","Bookstore","Laboratory","Liberty"],"answer":1,"explanation":"Librairie = Bookstore. Library = Biblioth√®que."},
  {"id":18,"category":"Connectors","question":"___ de sa maladie, il travaille.","options":["Gr√¢ce √†","√Ä cause de","En d√©pit","Parce que"],"answer":2,"explanation":"'En d√©pit de' = In spite of."},
  {"id":19,"category":"Grammar","question":"Apr√®s ___ (finir) mes devoirs.","options":["que je finis","avoir fini","finissant","finir"],"answer":1,"explanation":"Apr√®s + Past Infinitive (avoir/√™tre + participe)."},
  {"id":20,"category":"Idioms","question":"'Poser un lapin' means:","options":["To cook rabbit","To stand someone up","To run fast","To be shy"],"answer":1,"explanation":"Idiom for not showing up to a meeting."},
  {"id":21,"category":"Grammar","question":"C'est la maison ___ j'habite.","options":["qui","que","o√π","dont"],"answer":2,"explanation":"'O√π' refers to a place."},
  {"id":22,"category":"Vocab","question":"Translate: 'To support'","options":["Supporter","Soutenir","Porter","Souffrir"],"answer":1,"explanation":"Soutenir = To support a cause/person. Supporter = To tolerate."},
  {"id":23,"category":"Text Types","question":"'Objet:' line is found in:","options":["Diary","Formal Letter","Review","Speech"],"answer":1,"explanation":"Formal letters require a subject line."},
  {"id":24,"category":"Connectors","question":"Je lis ___ apprendre.","options":["pour","car","afin","donc"],"answer":0,"explanation":"Pour + Infinitive = Purpose."},
  {"id":25,"category":"Idioms","question":"'Avoir la p√™che' means:","options":["To have a peach","To be fishing","To have energy","To be sick"],"answer":2,"explanation":"Avoir la p√™che = To be full of energy."},
  {"id":26,"category":"Grammar","question":"Voici le livre ___ j'ai besoin.","options":["que","qui","dont","o√π"],"answer":2,"explanation":"Avoir besoin DE -> Dont."},
  {"id":27,"category":"False Friends","question":"'Bless√©' means:","options":["Blessed","Wounded","Blamed","Blasted"],"answer":1,"explanation":"Bless√© = Injured/Wounded."},
  {"id":28,"category":"Vocab","question":"Translate: 'Environment'","options":["Environnement","Environment","Enviremonde","Entourage"],"answer":0,"explanation":"Double 'n', one 'm'."},
  {"id":29,"category":"Connectors","question":"___, je voudrais remercier...","options":["Tout d'abord","Enfin","Ensuite","Mais"],"answer":0,"explanation":"'Tout d'abord' starts a speech/text."},
  {"id":30,"category":"Grammar","question":"Elle s'est ___ (laver) les mains.","options":["lav√©","lav√©e","lav√©s","lav√©es"],"answer":0,"explanation":"Reflexive with body part (COD) after verb -> No agreement."},
  {"id":31,"category":"Grammar","question":"Ils se sont ___ (parler).","options":["parl√©","parl√©e","parl√©s","parl√©es"],"answer":0,"explanation":"Parler '√†' quelqu'un (COI) -> No agreement."},
  {"id":32,"category":"Grammar","question":"Elle est ___ (aller) au cin√©ma.","options":["all√©","all√©e","all√©s","all√©es"],"answer":1,"explanation":"√ätre (movement) -> Agreement with subject (Elle)."},
  {"id":33,"category":"Vocab","question":"'Le gaspillage' means:","options":["Gas station","Waste","Gossip","Cake"],"answer":1,"explanation":"Gaspillage = Waste (e.g., food/energy waste)."},
  {"id":34,"category":"Connectors","question":"Il est riche, ___ il est triste.","options":["donc","cependant","car","parce que"],"answer":1,"explanation":"Cependant = However (Contrast)."},
  {"id":35,"category":"Text Types","question":"Title + URL + Comments section = ?","options":["Article","Brochure","Blog","Email"],"answer":2,"explanation":"Blog conventions."},
  {"id":36,"category":"False Friends","question":"'Location' in French usually means:","options":["A place","A rental","A scene","A lock"],"answer":1,"explanation":"Location = Rental (e.g., location de voiture)."},
  {"id":37,"category":"Grammar","question":"Je ___ (manger) quand il est arriv√©.","options":["mangeais","a mang√©","mange","mangerai"],"answer":0,"explanation":"Ongoing action in past = Imparfait."},
  {"id":38,"category":"Idioms","question":"'Raconter des salades' means:","options":["Making salad","Telling lies","Eating healthy","Selling food"],"answer":1,"explanation":"Raconter des salades = To tell lies/tall tales."},
  {"id":39,"category":"Connectors","question":"___ de pluie, le match est annul√©.","options":["Gr√¢ce √†","√Ä cause","Car","En raison"],"answer":3,"explanation":"'En raison de' = Due to (Formal). '√Ä cause' needs 'de'."},
  {"id":40,"category":"Grammar","question":"Il est important que tu ___ (√™tre) l√†.","options":["es","sois","seras","√©tais"],"answer":1,"explanation":"'Il est important que' triggers Subjunctive."},
  {"id":41,"category":"Vocab","question":"Antonyme de 'Augmenter':","options":["Monter","Grandir","Diminuer","Am√©liorer"],"answer":2,"explanation":"Augmenter (Increase) <> Diminuer (Decrease)."},
  {"id":42,"category":"Text Types","question":"'Chers coll√®gues' is typical for a:","options":["Diary","Speech","Article","Report"],"answer":1,"explanation":"Speech addressing a specific group."},
  {"id":43,"category":"False Friends","question":"'Monnaie' means:","options":["Money","Currency/Change","Monday","Monastery"],"answer":1,"explanation":"Monnaie = Coins/Change. Money = Argent."},
  {"id":44,"category":"Grammar","question":"Si tu √©tudies, tu ___ (r√©ussir).","options":["r√©ussis","r√©ussiras","r√©ussirais","as r√©ussi"],"answer":1,"explanation":"Si + Pr√©sent = Futur Simple."},
  {"id":45,"category":"Connectors","question":"Je ne veux pas y aller, ___ je dois.","options":["donc","mais","car","aussi"],"answer":1,"explanation":"Opposition (Mais)."},
  {"id":46,"category":"Grammar","question":"L'homme ___ je parle est mon prof.","options":["qui","que","dont","o√π"],"answer":2,"explanation":"Parler DE quelqu'un -> Dont."},
  {"id":47,"category":"Vocab","question":"'L'effet de serre' means:","options":["Greenhouse effect","Glass house","Green effect","Winter effect"],"answer":0,"explanation":"Environmental term."},
  {"id":48,"category":"Idioms","question":"'√ätre dans la lune' means:","options":["To be on the moon","To be dreaming/distracted","To be sleeping","To be famous"],"answer":1,"explanation":"Daydreaming."},
  {"id":49,"category":"Grammar","question":"Je lui ai ___ (dire) la v√©rit√©.","options":["dis","dit","dite","dites"],"answer":1,"explanation":"Dire -> Past participle is 'dit'. No agreement with COI."},
  {"id":50,"category":"Text Types","question":"Which text needs 'Coordonn√©es' (Addresses)?","options":["Blog","Article","Formal Letter","Diary"],"answer":2,"explanation":"Formal letters need sender and receiver addresses."},
  {"id":51,"category":"False Friends","question":"'D√©ception' means:","options":["Deception","Disappointment","Decision","Reception"],"answer":1,"explanation":"D√©ception = Disappointment. Deception = Tromperie."},
  {"id":52,"category":"Connectors","question":"Il travaille ___ gagner de l'argent.","options":["pour","par","car","donc"],"answer":0,"explanation":"Pour + Infinitive (Purpose)."},
  {"id":53,"category":"Grammar","question":"Je cherche une secr√©taire qui ___ (savoir) parler chinois.","options":["sait","sache","saura","su"],"answer":1,"explanation":"Looking for someone who MIGHT exist triggers Subjunctive."},
  {"id":54,"category":"Vocab","question":"'B√©n√©vole' means:","options":["Beneficial","Volunteer","Good will","Benevolent"],"answer":1,"explanation":"Un b√©n√©vole = A volunteer."},
  {"id":55,"category":"Idioms","question":"'Casser les pieds' means:","options":["Break feet","To be annoying","To dance bad","To hurt someone"],"answer":1,"explanation":"To annoy someone."},
  {"id":56,"category":"Grammar","question":"C'est le livre ___ j'ai √©crit.","options":["qui","que","dont","o√π"],"answer":1,"explanation":"√âcrire quelque chose (COD) -> Que."},
  {"id":57,"category":"Connectors","question":"___, je ne suis pas d'accord.","options":["Cependant","De plus","En effet","Personnellement"],"answer":3,"explanation":"Introducing an opinion."},
  {"id":58,"category":"False Friends","question":"'Passer un examen' means:","options":["To pass an exam","To take an exam","To fail an exam","To grade an exam"],"answer":1,"explanation":"Passer = To sit/take. R√©ussir = To pass."},
  {"id":59,"category":"Grammar","question":"Quand je serai grand, je ___ (√™tre) pilote.","options":["suis","serai","sois","√©tais"],"answer":1,"explanation":"Quand + Futur = Futur."},
  {"id":60,"category":"Vocab","question":"'Le ch√¥mage' means:","options":["The heat","Unemployment","The damage","The path"],"answer":1,"explanation":"Unemployment."},
  {"id":61,"category":"Text Types","question":"'Veuillez recevoir...' is a closing for:","options":["Email to friend","Formal Letter","Blog","Leaflet"],"answer":1,"explanation":"Formal closing formula."},
  {"id":62,"category":"Connectors","question":"Il est beau ___ inintelligent.","options":["et","mais","donc","car"],"answer":1,"explanation":"Contrast."},
  {"id":63,"category":"Grammar","question":"Tu as vu mes cl√©s? Je ___ cherche.","options":["les","la","le","lui"],"answer":0,"explanation":"Cl√©s (Plural COD) -> Les."},
  {"id":64,"category":"Idioms","question":"'Faire la grasse matin√©e':","options":["Eat a fat breakfast","Sleep in late","Exercise in morning","Cook early"],"answer":1,"explanation":"To sleep late in the morning."},
  {"id":65,"category":"False Friends","question":"'Journ√©e' refers to:","options":["Journey","Duration of the day","Journalist","Judge"],"answer":1,"explanation":"Duration of the day. Journey = Voyage."},
  {"id":66,"category":"Grammar","question":"Il a peur qu'il ___ (pleuvoir).","options":["pleut","pleuve","pleuvra","pluvait"],"answer":1,"explanation":"Fear triggers Subjunctive."},
  {"id":67,"category":"Vocab","question":"'Alimentation' means:","options":["Ailment","Diet/Food","Element","Alarm"],"answer":1,"explanation":"Diet or Food supply."},
  {"id":68,"category":"Connectors","question":"___ il a 80 ans, il court vite.","options":["M√™me s'","Pourtant","Malgr√©","Car"],"answer":0,"explanation":"M√™me si + Indicative."},
  {"id":69,"category":"Grammar","question":"Je t√©l√©phone ___ mes parents.","options":["√†","de","sur","pour"],"answer":0,"explanation":"T√©l√©phoner √Ä quelqu'un."},
  {"id":70,"category":"Text Types","question":"Catchy title + Subheadings + Bullet points = ?","options":["Essay","Brochure/Flyer","Letter","Novel"],"answer":1,"explanation":"Visual conventions of a brochure."},
  {"id":71,"category":"False Friends","question":"'Une grappe' means:","options":["A grape","A bunch/cluster","A group","A grip"],"answer":1,"explanation":"Grappe = Bunch (of grapes). Grape = Raisin."},
  {"id":72,"category":"Grammar","question":"Il ___ (venir) de partir.","options":["vient","venait","viendra","venu"],"answer":0,"explanation":"Venir de + infinitive = Just happened."},
  {"id":73,"category":"Connectors","question":"Je n'aime ni le th√©, ___ le caf√©.","options":["ou","et","ni","mais"],"answer":2,"explanation":"Ne... ni... ni (Neither... nor)."},
  {"id":74,"category":"Idioms","question":"'Tomber dans les pommes':","options":["Fall in apples","To faint","To eat fruit","To fall in love"],"answer":1,"explanation":"To faint."},
  {"id":75,"category":"Vocab","question":"'Le divertissement' means:","options":["Diversity","Entertainment","Divorce","Driving"],"answer":1,"explanation":"Entertainment/Hobby."},
  {"id":76,"category":"Grammar","question":"Je veux ___ (manger).","options":["mange","manges","manger","mang√©"],"answer":2,"explanation":"Two verbs -> Second is infinitive."},
  {"id":77,"category":"False Friends","question":"'Un coin' means:","options":["A coin","A corner","A cone","A corn"],"answer":1,"explanation":"Coin = Corner. Coin (money) = Pi√®ce."},
  {"id":78,"category":"Grammar","question":"Il a ___ (ouvrir) la porte.","options":["ouvri","ouvert","ouvre","ouvrira"],"answer":1,"explanation":"Past participle of Ouvrir is Ouvert."},
  {"id":79,"category":"Connectors","question":"___ de ses efforts, il a √©chou√©.","options":["En d√©pit","Gr√¢ce","√Ä cause","Malgr√©"],"answer":0,"explanation":"En d√©pit DE. (Malgr√© takes no preposition)."},
  {"id":80,"category":"Text Types","question":"An 'Interview' format requires:","options":["Date only","Q & A structure","Addresses","Storytelling"],"answer":1,"explanation":"Question and Answer format."},
  {"id":81,"category":"Vocab","question":"'Mondialisation' means:","options":["Modernization","Globalization","Modification","Modeling"],"answer":1,"explanation":"Globalization."},
  {"id":82,"category":"Grammar","question":"Je n'ai vu ___ (Nobody).","options":["rien","jamais","personne","aucun"],"answer":2,"explanation":"Personne = Nobody."},
  {"id":83,"category":"Idioms","question":"'Donner sa langue au chat':","options":["Give tongue to cat","To give up guessing","To feed a cat","To speak badly"],"answer":1,"explanation":"To give up (guessing a riddle)."},
  {"id":84,"category":"Connectors","question":"Il ne vient pas, ___ il est malade.","options":["car","donc","pourtant","ensuite"],"answer":0,"explanation":"Explaining the cause."},
  {"id":85,"category":"Grammar","question":"C'est la ville ___ je suis n√©.","options":["qui","que","o√π","dont"],"answer":2,"explanation":"Place -> O√π."},
  {"id":86,"category":"False Friends","question":"'Une veste' is:","options":["A vest","A jacket","A vase","A visit"],"answer":1,"explanation":"Veste = Jacket/Blazer. Vest = Gilet."},
  {"id":87,"category":"Grammar","question":"Il parle ___ (fort) que moi.","options":["plus fort","plus forte","le plus fort","fortement"],"answer":0,"explanation":"Comparative adverb."},
  {"id":88,"category":"Vocab","question":"'Publier' usually relates to:","options":["Public","To publish/post","To pull","To punish"],"answer":1,"explanation":"Posting online or publishing."},
  {"id":89,"category":"Text Types","question":"'Titre' + 'Chapeau' (Intro paragraph) = ?","options":["Email","Article","Diary","Letter"],"answer":1,"explanation":"Articles use a 'Chapeau' to summarize content."},
  {"id":90,"category":"Grammar","question":"J'y vais ___ (by) voiture.","options":["en","√†","par","de"],"answer":0,"explanation":"En voiture (inside the vehicle)."},
  {"id":91,"category":"False Friends","question":"'Rester' means:","options":["To rest","To stay","To restaurant","To resist"],"answer":1,"explanation":"Rester = To stay. To rest = Se reposer."},
  {"id":92,"category":"Connectors","question":"___ j'aime Paris, c'est cher.","options":["Comme","Puisque","Bien que","Si"],"answer":2,"explanation":"Contrast (Although)."},
  {"id":93,"category":"Idioms","question":"'C'est la fin des haricots':","options":["End of the beans","It's the end of everything/Hope is lost","Time to eat","Harvest time"],"answer":1,"explanation":"Idiom: It's all over."},
  {"id":94,"category":"Vocab","question":"'Les r√©seaux sociaux' means:","options":["Social gatherings","Social networks","Social work","Society reasons"],"answer":1,"explanation":"Social Media."},
  {"id":95,"category":"Grammar","question":"Tu ___ (devrais) √©tudier plus.","options":["dois","devrais","devras","d√ª"],"answer":1,"explanation":"Conditionnel for advice (You should)."},
  {"id":96,"category":"Grammar","question":"Je ___ (se lever) √† 8h.","options":["me l√®ve","te l√®ve","se l√®ve","nous levons"],"answer":0,"explanation":"Reflexive verb conjugation."},
  {"id":97,"category":"False Friends","question":"'Pr√©tendre' means:","options":["To pretend","To claim","To tend","To protect"],"answer":1,"explanation":"Pr√©tendre = To claim. Pretend = Faire semblant."},
  {"id":98,"category":"Connectors","question":"___, je suis all√© au parc.","options":["Puis","Ensuite","D'abord","Finalement"],"answer":2,"explanation":"Starting a narrative (First)."},
  {"id":99,"category":"Text Types","question":"Tone: Enthusiastic, Subjective, Opinionated.","options":["Formal Letter","Report","Blog","News Report"],"answer":2,"explanation":"Blogs are personal and opinionated."},
  {"id":100,"category":"Vocab","question":"'L'√©panouissement' means:","options":["Punishment","Fulfillment/Thriving","Panic","Publishing"],"answer":1,"explanation":"Personal fulfillment."},
  {"id":101,"category":"Grammar","question":"Nous ___ (manger) une pizza hier.","options":["avons mang√©","sommes mang√©","mangions","mangerons"],"answer":0,"explanation":"Pass√© compos√© with Avoir."},
  {"id":102,"category":"Connectors","question":"Je le fais ___ tu sois content.","options":["pour que","afin de","car","donc"],"answer":0,"explanation":"Pour que + Subjunctive (Purpose)."},
  {"id":103,"category":"False Friends","question":"'Grand' when describing people:","options":["Grand","Tall","Great","Big"],"answer":1,"explanation":"Un homme grand = A tall man."},
  {"id":104,"category":"Idioms","question":"'Avoir le cafard':","options":["Have a cockroach","To be depressed/blue","To be dirty","To be scared"],"answer":1,"explanation":"To be feeling down."},
  {"id":105,"category":"Grammar","question":"Il a ___ de livres que moi.","options":["plus","autant","aussi","meilleur"],"answer":1,"explanation":"Autant de + Noun (As many... as)."},
  {"id":106,"category":"Vocab","question":"'Un sondage' is:","options":["A song","A survey","A sound","A dream"],"answer":1,"explanation":"A survey/poll."},
  {"id":107,"category":"Text Types","question":"Which text uses 'Il √©tait une fois' (Once upon a time)?","options":["Fairy Tale/Story","Article","News","Brochure"],"answer":0,"explanation":"Narrative convention."},
  {"id":108,"category":"Connectors","question":"Il ne parle pas anglais, ___ il parle fran√ßais.","options":["ou","mais","donc","ni"],"answer":1,"explanation":"Contrast."},
  {"id":109,"category":"Grammar","question":"Je viens ___ France.","options":["de","du","d'","en"],"answer":0,"explanation":"Venir de + Feminine Country."},
  {"id":110,"category":"False Friends","question":"'Formidable' usually means:","options":["Terrifying","Great/Wonderful","Formal","Forbidden"],"answer":1,"explanation":"In French, Formidable = Great."},
  {"id":111,"category":"Idioms","question":"'Mettre la main √† la p√¢te':","options":["Put hand in dough","To help out/pitch in","To cook bread","To make a mess"],"answer":1,"explanation":"To help with the work."},
  {"id":112,"category":"Vocab","question":"'Le bien-√™tre':","options":["Being good","Well-being","Wealth","Better"],"answer":1,"explanation":"Well-being/Wellness."},
  {"id":113,"category":"Grammar","question":"Elles sont ___ (partir).","options":["parti","partie","partis","parties"],"answer":3,"explanation":"√ätre -> Agreement with Subject (Feminine Plural)."},
  {"id":114,"category":"Connectors","question":"___ le froid, je sors.","options":["Malgr√©","Bien que","Quoique","M√™me"],"answer":0,"explanation":"Malgr√© + Noun."},
  {"id":115,"category":"Grammar","question":"C'est le stylo avec ___ j'√©cris.","options":["qui","lequel","que","dont"],"answer":1,"explanation":"Avec + Lequel (Thing)."},
  {"id":116,"category":"Text Types","question":"'Sign√©: Un citoyen inquiet' is for:","options":["Diary","Letter to Editor","Blog","Essay"],"answer":1,"explanation":"Letter to an editor/authority."},
  {"id":117,"category":"Vocab","question":"'√âquilibr√©' means:","options":["Equal","Balanced","Liquid","Heavy"],"answer":1,"explanation":"Balanced (e.g., Repas √©quilibr√©)."},
  {"id":118,"category":"False Friends","question":"'Une phrase' means:","options":["A phrase","A sentence","A phase","A phrasal verb"],"answer":1,"explanation":"Phrase = Sentence. Phrase (music) = Locution."},
  {"id":119,"category":"Grammar","question":"Il faut ___ (√©couter).","options":["√©coute","√©coutes","√©couter","√©cout√©"],"answer":2,"explanation":"Il faut + Infinitive (General)."},
  {"id":120,"category":"Connectors","question":"D'un c√¥t√©..., ___...","options":["de l'autre c√¥t√©","aussi","ensuite","d'autre part"],"answer":3,"explanation":"On the one hand... on the other hand (D'autre part)."},
  {"id":121,"category":"Idioms","question":"'Se mettre le doigt dans l'≈ìil':","options":["Poke eye","To make a mistake","To wake up","To see clearly"],"answer":1,"explanation":"To be entirely entirely wrong."},
  {"id":122,"category":"Grammar","question":"Je ___ (attendre) depuis une heure.","options":["attends","ai attendu","attendais","attendrai"],"answer":0,"explanation":"Depuis + Present Tense (Action still happening)."},
  {"id":123,"category":"Vocab","question":"'Le but' means:","options":["The but","The goal","The bottom","The bat"],"answer":1,"explanation":"Goal/Aim."},
  {"id":124,"category":"False Friends","question":"'Sensible' means:","options":["Sensible","Sensitive","Sensing","Sense"],"answer":1,"explanation":"Sensible = Sensitive. Sensible (English) = Raisonnable."},
  {"id":125,"category":"Text Types","question":"Which text uses 'Mesdames, Messieurs,'?","options":["Diary","Speech","Blog","Article"],"answer":1,"explanation":"Formal Speech address."},
  {"id":126,"category":"Connectors","question":"Il lit le journal ___ boire son caf√©.","options":["en","pendant","apr√®s","avec"],"answer":0,"explanation":"En + Participe Pr√©sent (Simultaneous action)."},
  {"id":127,"category":"Grammar","question":"Tu en veux? Oui, j'___ veux.","options":["en","y","le","la"],"answer":0,"explanation":"En replaces 'de' + thing (quantity)."},
  {"id":128,"category":"Vocab","question":"'Les droits de l'homme':","options":["Right hand man","Human rights","Man's rights","Correct men"],"answer":1,"explanation":"Human Rights."},
  {"id":129,"category":"Idioms","question":"'Appeler un chat un chat':","options":["Call a cat a cat","To speak frankly","To love animals","To be rude"],"answer":1,"explanation":"To tell it like it is."},
  {"id":130,"category":"Grammar","question":"C'est moi qui ___ (avoir) gagn√©.","options":["ai","as","a","ont"],"answer":0,"explanation":"Qui agrees with antecedent (Moi -> Je -> ai)."},
  {"id":131,"category":"False Friends","question":"'Sympathique' (Sympa) means:","options":["Sympathetic","Nice/Friendly","Simple","Pathetic"],"answer":1,"explanation":"Sympa = Nice. Sympathetic = Compatissant."},
  {"id":132,"category":"Connectors","question":"___ conclusion, nous devons agir.","options":["En","Pour","√Ä","De"],"answer":0,"explanation":"En conclusion."},
  {"id":133,"category":"Vocab","question":"'Le logement' means:","options":["The lodge","Housing/Accommodation","Logos","Length"],"answer":1,"explanation":"Housing."},
  {"id":134,"category":"Text Types","question":"Visuals, catchy slogans, contact info = ?","options":["Essay","Flyer/Brochure","Report","Diary"],"answer":1,"explanation":"Brochure features."},
  {"id":135,"category":"Grammar","question":"Nous ___ (habiter) ici depuis 2010.","options":["habitons","avons habit√©","habitions","habiterons"],"answer":0,"explanation":"Present tense with Depuis."},
  {"id":136,"category":"Idioms","question":"'Prendre la t√™te':","options":["Take the head","To drive crazy/hassle","To lead","To be smart"],"answer":1,"explanation":"To hassle/annoy someone."},
  {"id":137,"category":"Connectors","question":"Non seulement..., ___...","options":["et","mais aussi","ou","donc"],"answer":1,"explanation":"Not only... but also."},
  {"id":138,"category":"False Friends","question":"'Une affaire' means:","options":["An affair (love)","Business/Matter/Deal","Afraid","Fair"],"answer":1,"explanation":"C'est une bonne affaire = It's a good deal."},
  {"id":139,"category":"Grammar","question":"Je vais √† la banque pour ___ (chercher) de l'argent.","options":["chercher","cherche","cherches","cherch√©"],"answer":0,"explanation":"Pour + Infinitive."},
  {"id":140,"category":"Vocab","question":"'La sant√© mentale':","options":["Mental health","Dental health","Mint scent","Mental saint"],"answer":0,"explanation":"Mental Health."},
  {"id":141,"category":"Text Types","question":"Which requires a 'Subject Line' (Objet)?","options":["Email","Blog","Article","Speech"],"answer":0,"explanation":"Email/Formal letter."},
  {"id":142,"category":"Grammar","question":"Si il ___ (faire) beau, on ira au parc.","options":["fait","fera","fasse","faisait"],"answer":0,"explanation":"Si + Pr√©sent = Futur."},
  {"id":143,"category":"Idioms","question":"'C'est du g√¢teau':","options":["It's cake","It's easy","It's sweet","It's a party"],"answer":1,"explanation":"It's a piece of cake (easy)."},
  {"id":144,"category":"Connectors","question":"___, on peut voir que...","options":["Deuxi√®mement","Aussi","Mais","Donc"],"answer":0,"explanation":"Ordering arguments."},
  {"id":145,"category":"False Friends","question":"'Envisager' means:","options":["To envisage/Consider","To visit","To see face to face","To envy"],"answer":0,"explanation":"To consider/plan."},
  {"id":146,"category":"Grammar","question":"Je pense qu'il ___ (avoir) raison.","options":["a","ait","aura","avait"],"answer":0,"explanation":"Penser (positive) -> Indicative. (Negative triggers Subj)."},
  {"id":147,"category":"Vocab","question":"'Le citoyen' means:","options":["The city","The citizen","The lemon","The site"],"answer":1,"explanation":"Citizen."},
  {"id":148,"category":"Text Types","question":"'Propos recueillis par...' is found in:","options":["Interview","Diary","Blog","Speech"],"answer":0,"explanation":"Standard closing for an interview (Interviewed by...)."},
  {"id":149,"category":"Connectors","question":"Il est tard, ___ je reste.","options":["donc","alors","pourtant","parce que"],"answer":2,"explanation":"Contrast."},
  {"id":150,"category":"Grammar","question":"C'est le meilleur film ___ j'aie vu.","options":["qui","que","dont","o√π"],"answer":1,"explanation":"Superlative often triggers Subjunctive (j'aie vu) with Que."},
  {"id":151,"category":"Grammar","question":"Je pense √† mes vacances. J'___ pense.","options":["y","en","le","lui"],"answer":0,"explanation":"Penser √Ä quelque chose -> Y."},
  {"id":152,"category":"Grammar","question":"Il a mang√© des pommes? Oui, il ___ a mang√©.","options":["les","en","y","la"],"answer":1,"explanation":"'En' replaces quantity (des pommes)."},
  {"id":153,"category":"Vocab","question":"'La canicule' means:","options":["The heatwave","The canal","The canoe","The cold"],"answer":0,"explanation":"Extreme heat wave."},
  {"id":154,"category":"Connectors","question":"___ que je sois fatigu√©, je viens.","options":["Bien","M√™me","Alors","Puisque"],"answer":0,"explanation":"Bien que + Subjunctive (Although)."},
  {"id":155,"category":"False Friends","question":"'Une lecture' means:","options":["A lecture","A reading","A lesson","A letter"],"answer":1,"explanation":"Lecture = Reading. Lecture (class) = Conf√©rence/Cours."},
  {"id":156,"category":"Text Types","question":"'Critique de film': Tone should be?","options":["Neutral","Objective","Subjective/Evaluative","Passive"],"answer":2,"explanation":"Reviews must evaluate and give an opinion."},
  {"id":157,"category":"Idioms","question":"'Avoir le bras long':","options":["Have long arms","To be influential","To be thief","To be tall"],"answer":1,"explanation":"To have connections/influence."},
  {"id":158,"category":"Grammar","question":"C'est la femme ___ le mari est acteur.","options":["qui","que","dont","o√π"],"answer":2,"explanation":"Possession (Whose husband) -> Dont."},
  {"id":159,"category":"Vocab","question":"'Le b√©n√©volat' refers to:","options":["Volunteering","Benefits","Benevolence","Greeting"],"answer":0,"explanation":"Voluntary work."},
  {"id":160,"category":"Connectors","question":"Je t'appelle ___ tu saches la v√©rit√©.","options":["pour que","afin","car","donc"],"answer":0,"explanation":"Pour que + Subjunctive."},
  {"id":161,"category":"False Friends","question":"'√âventuellement' means:","options":["Eventually","Possibly","Events","Finally"],"answer":1,"explanation":"√âventuellement = Possibly. Eventually = Finalement."},
  {"id":162,"category":"Grammar","question":"Si nous ___ (avoir) le temps, nous viendrions.","options":["avons","avions","aurons","aurions"],"answer":1,"explanation":"Si + Imparfait = Conditionnel."},
  {"id":163,"category":"Text Types","question":"An 'Editorial' represents the opinion of:","options":["The reader","The newspaper/Editor","The government","No one"],"answer":1,"explanation":"Editor's opinion."},
  {"id":164,"category":"Vocab","question":"'Un d√©fi' means:","options":["A defeat","A challenge","A definition","A deaf person"],"answer":1,"explanation":"Un d√©fi = A challenge."},
  {"id":165,"category":"Idioms","question":"'Couper la poire en deux':","options":["Cut pear in two","Compromise","Share food","Fight"],"answer":1,"explanation":"To meet halfway/compromise."},
  {"id":166,"category":"Grammar","question":"Il ___ (devoir) faire attention.","options":["devra","doit","devrait","d√ª"],"answer":2,"explanation":"Conditionnel (Should) for advice."},
  {"id":167,"category":"Connectors","question":"___ (Whereas) mon fr√®re est grand, je suis petit.","options":["Tandis que","Donc","Comme","Pourtant"],"answer":0,"explanation":"Tandis que = Whereas/While (Contrast)."},
  {"id":168,"category":"Vocab","question":"'L'argot' means:","options":["Silver","Slang","Argument","Clay"],"answer":1,"explanation":"Argot = Slang."},
  {"id":169,"category":"False Friends","question":"'Le hasard' means:","options":["Hazard","Chance/Fate","Danger","Hardness"],"answer":1,"explanation":"Par hasard = By chance. Hazard = Danger/Risque."},
  {"id":170,"category":"Grammar","question":"Je donne le livre √† Marc. Je ___ donne.","options":["lui","le","la","leur"],"answer":1,"explanation":"Donner QUOI? Le livre (Direct Object) -> Le."},
  {"id":171,"category":"Grammar","question":"Je parle √† Marc. Je ___ parle.","options":["le","lui","la","y"],"answer":1,"explanation":"Parler √Ä qui? √Ä Marc (Indirect Object) -> Lui."},
  {"id":172,"category":"Text Types","question":"Which text type uses 'Recommandations' or 'Conseils'?","options":["Guidelines/Guide","Diary","Novel","News"],"answer":0,"explanation":"Guide/Brochure purpose."},
  {"id":173,"category":"Vocab","question":"'D√©muni' means:","options":["Immune","Destitute/Deprived","Demolished","Small"],"answer":1,"explanation":"Poor/Deprived."},
  {"id":174,"category":"Connectors","question":"D'ailleurs...","options":["However","Moreover/Besides","Therefore","Although"],"answer":1,"explanation":"Adding a related point."},
  {"id":175,"category":"Idioms","question":"'Se creuser la t√™te':","options":["Dig head","Think very hard","Get a headache","Hurt head"],"answer":1,"explanation":"To think deeply/rack one's brains."},
  {"id":176,"category":"Grammar","question":"Je ne crois pas qu'il ___ (venir).","options":["vient","vienne","viendra","venu"],"answer":1,"explanation":"Negative belief triggers Subjunctive."},
  {"id":177,"category":"False Friends","question":"'Un avertissement' is:","options":["Advertisement","Warning","Adventure","Average"],"answer":1,"explanation":"Warning. Advertisement = Publicit√©."},
  {"id":178,"category":"Vocab","question":"'Le tri s√©lectif':","options":["Selection","Recycling/Sorting","Tree selection","Trial"],"answer":1,"explanation":"Sorting waste for recycling."},
  {"id":179,"category":"Connectors","question":"___ (Since) tu es l√†, aide-moi.","options":["Puisque","Car","Pour","Donc"],"answer":0,"explanation":"Puisque = Since (Obvious cause)."},
  {"id":180,"category":"Text Types","question":"Format: Intro + Body Arguments + Conclusion.","options":["Dissertation/Essay","Flyer","Recipe","Menu"],"answer":0,"explanation":"Standard essay structure."},
  {"id":181,"category":"Grammar","question":"Les filles que j'ai ___ (voir).","options":["vu","vue","vus","vues"],"answer":3,"explanation":"Past participle agrees with preceding COD (que -> filles)."},
  {"id":182,"category":"Vocab","question":"'Efficace' means:","options":["Efficient/Effective","Effort","Face","Easy"],"answer":0,"explanation":"Effective."},
  {"id":183,"category":"Idioms","question":"'Avoir le c≈ìur sur la main':","options":["Heart on hand","To be generous","To be sick","To be honest"],"answer":1,"explanation":"To be very generous."},
  {"id":184,"category":"False Friends","question":"'Ignorer' usually means:","options":["To ignore","To not know","To hate","To sign"],"answer":1,"explanation":"Ignorer often means 'To not know'. To ignore someone = Ne pas pr√™ter attention."},
  {"id":185,"category":"Connectors","question":"Il pleut, ___ je sors quand m√™me.","options":["cependant","donc","alors","aussi"],"answer":0,"explanation":"Opposition."},
  {"id":186,"category":"Grammar","question":"Fais attention √† ce ___ tu dis.","options":["qui","que","dont","o√π"],"answer":1,"explanation":"Ce que (What) + Subject. Ce qui + Verb."},
  {"id":187,"category":"Grammar","question":"Ce ___ m'int√©resse, c'est le sport.","options":["qui","que","dont","o√π"],"answer":0,"explanation":"Ce qui + Verb (m'int√©resse)."},
  {"id":188,"category":"Vocab","question":"'L'√©galit√©' means:","options":["Equality","Eagle","Legal","Quality"],"answer":0,"explanation":"Equality."},
  {"id":189,"category":"Text Types","question":"Which text aims to 'Convaincre' (Convince)?","options":["Diary","Opinion Column/Speech","Recipe","Map"],"answer":1,"explanation":"Persuasive texts."},
  {"id":190,"category":"False Friends","question":"'Un proc√®s' means:","options":["A process","A trial/Lawsuit","A price","A procession"],"answer":1,"explanation":"Proc√®s = Trial. Process = Processus."},
  {"id":191,"category":"Connectors","question":"Autrement dit...","options":["In other words","Otherwise","Other said","However"],"answer":0,"explanation":"Rephrasing."},
  {"id":192,"category":"Idioms","question":"'Broyer du noir':","options":["Grind black","To be depressed","To paint","To drink coffee"],"answer":1,"explanation":"To feel depressed."},
  {"id":193,"category":"Grammar","question":"Je ___ (se laver) les cheveux.","options":["me lave","se lave","te laves","nous lavons"],"answer":0,"explanation":"Je me lave."},
  {"id":194,"category":"Vocab","question":"'Un stage' means:","options":["A stage","An internship/Course","A stagger","A stay"],"answer":1,"explanation":"Internship. Stage (theater) = Sc√®ne."},
  {"id":195,"category":"Grammar","question":"C'est ___ (my) amie.","options":["ma","mon","mes","moi"],"answer":1,"explanation":"Mon amie (Feminine starting with vowel -> Mon)."},
  {"id":196,"category":"Text Types","question":"'T√©moignage' means:","options":["Testimony/Account","Test","Image","Title"],"answer":0,"explanation":"Personal account of events."},
  {"id":197,"category":"Connectors","question":"Au lieu de...","options":["In place of/Instead of","In light of","Because of","Next to"],"answer":0,"explanation":"Alternative."},
  {"id":198,"category":"False Friends","question":"'Commander' (in restaurant):","options":["To command","To order","To demand","To comment"],"answer":1,"explanation":"Commander = To order food."},
  {"id":199,"category":"Vocab","question":"'La publicit√©' (La pub):","options":["Publicity","Advertising","Pub","Public"],"answer":1,"explanation":"Advertising."},
  {"id":200,"category":"Idioms","question":"'√ätre verni':","options":["To be varnished","To be lucky","To be painted","To be wet"],"answer":1,"explanation":"To be lucky."},
  {"id":201,"category":"Grammar","question":"Il est temps que tu ___ (partir).","options":["pars","partes","partiras","partis"],"answer":1,"explanation":"'Il est temps que' -> Subjunctive."},
  {"id":202,"category":"Vocab","question":"'Les d√©chets':","options":["Dishes","Waste/Trash","Receipts","Decisions"],"answer":1,"explanation":"Trash."},
  {"id":203,"category":"Text Types","question":"A 'Prospectus' is a:","options":["Prospect","Flyer/Leaflet","Prosperity","Project"],"answer":1,"explanation":"Promotional leaflet."},
  {"id":204,"category":"Connectors","question":"___ (As soon as) il arrive...","options":["D√®s qu'","Tant que","Pendant","Apr√®s"],"answer":0,"explanation":"D√®s que + Indicative."},
  {"id":205,"category":"False Friends","question":"'Une partition' (Music):","options":["Partition","Score/Sheet music","Part","Party"],"answer":1,"explanation":"Sheet music."},
  {"id":206,"category":"Grammar","question":"C'est le gar√ßon ___ je t'ai parl√©.","options":["que","qui","dont","o√π"],"answer":2,"explanation":"Parler DE -> Dont."},
  {"id":207,"category":"Grammar","question":"Elles se sont ___ (t√©l√©phoner).","options":["t√©l√©phon√©","t√©l√©phon√©e","t√©l√©phon√©s","t√©l√©phon√©es"],"answer":0,"explanation":"Se t√©l√©phoner (COI) -> No agreement."},
  {"id":208,"category":"Vocab","question":"'L'√©nergie renouvelable':","options":["Renewable energy","New energy","Nuclear energy","Red energy"],"answer":0,"explanation":"Green energy."},
  {"id":209,"category":"Idioms","question":"'Faire le pont':","options":["Make a bridge","Take a long weekend","Build something","Exercise"],"answer":1,"explanation":"Taking an extra day off between a holiday and weekend."},
  {"id":210,"category":"Connectors","question":"En revanche...","options":["In revenge","On the other hand","In dreams","In reality"],"answer":1,"explanation":"Contrast."},
  {"id":211,"category":"False Friends","question":"'Assister √†' means:","options":["To assist","To attend","To assess","To assert"],"answer":1,"explanation":"To attend (a concert/class). Assist = Aider."},
  {"id":212,"category":"Text Types","question":"'Propos recueillis' implies:","options":["Written by","Interviewed by","Edited by","Printed by"],"answer":1,"explanation":"Interview closing."},
  {"id":213,"category":"Grammar","question":"Je ferai √ßa √† condition que tu ___ (aider).","options":["aides","aideras","aidais","aider"],"answer":0,"explanation":"'√Ä condition que' -> Subjunctive."},
  {"id":214,"category":"Vocab","question":"'Le harc√®lement':","options":["Harassment/Bullying","Hardship","Harmony","Horse riding"],"answer":0,"explanation":"Bullying (Harc√®lement scolaire)."},
  {"id":215,"category":"Connectors","question":"Bref...","options":["Briefly/In short","Brave","Bread","Brother"],"answer":0,"explanation":"Summarizing."},
  {"id":216,"category":"Idioms","question":"'Manger sur le pouce':","options":["Eat on thumb","Eat quickly/on the go","Eat a lot","Eat distinctively"],"answer":1,"explanation":"To grab a quick bite."},
  {"id":217,"category":"False Friends","question":"'Une journ√©e' vs 'Un jour':","options":["Journey vs Day","Duration vs Unit of time","Journal vs Day","Judge vs Jury"],"answer":1,"explanation":"Journ√©e emphasizes the duration/activities."},
  {"id":218,"category":"Grammar","question":"Il vaut mieux que tu ___ (rester).","options":["restes","resteras","restais","rester"],"answer":0,"explanation":"'Il vaut mieux que' -> Subjunctive."},
  {"id":219,"category":"Text Types","question":"Which text uses 'Flash-back' or 'R√©cit'?","options":["Novel/Story","Menu","Map","Receipt"],"answer":0,"explanation":"Narrative techniques."},
  {"id":220,"category":"Vocab","question":"'La main-d'≈ìuvre':","options":["Hand work","Workforce/Labor","Mannequin","Manuscript"],"answer":1,"explanation":"Workforce."},
  {"id":221,"category":"Connectors","question":"Or...","options":["Gold","However/Now","Or","Outside"],"answer":1,"explanation":"Logical connector (Now/However)."},
  {"id":222,"category":"Idioms","question":"'C'est la goutte d'eau qui fait d√©border le vase':","options":["Last straw","Watering plants","Raining heavily","Washing dishes"],"answer":0,"explanation":"The straw that broke the camel's back."},
  {"id":223,"category":"Grammar","question":"Je les ai ___ (entendre) chanter.","options":["entendu","entendus","entendue","entendues"],"answer":1,"explanation":"Accord with 'les' (COD) before verb."},
  {"id":224,"category":"False Friends","question":"'Le caract√®re':","options":["Character (Book)","Personality/Temper","Letter","Actor"],"answer":1,"explanation":"Personality. Character in book = Personnage."},
  {"id":225,"category":"Vocab","question":"'Le t√©l√©travail':","options":["TV work","Remote working","Telephone repair","Television"],"answer":1,"explanation":"Working from home."},
  {"id":226,"category":"Text Types","question":"'R√©dacteur en chef' means:","options":["Chief Editor","Red actor","Reader","Writer"],"answer":0,"explanation":"Editor-in-chief."},
  {"id":227,"category":"Connectors","question":"Certes..., mais...","options":["Certainly... but","Certain... may","Certify... may","Create... but"],"answer":0,"explanation":"Concession."},
  {"id":228,"category":"Grammar","question":"Il est possible qu'il ___ (neiger).","options":["neige","neigera","neigeait","a neig√©"],"answer":0,"explanation":"Possibility triggers Subjunctive."},
  {"id":229,"category":"Idioms","question":"'Avoir un poil dans la main':","options":["Hair in hand","To be lazy","To be strong","To be hairy"],"answer":1,"explanation":"To be extremely lazy."},
  {"id":230,"category":"False Friends","question":"'Actuel':","options":["Actual","Current","Active","Acting"],"answer":1,"explanation":"Current/Present."},
  {"id":231,"category":"Vocab","question":"'Les OGM' (Genetically Modified Organisms):","options":["OMG","GMO","MOG","NGO"],"answer":1,"explanation":"Organismes G√©n√©tiquement Modifi√©s."},
  {"id":232,"category":"Connectors","question":"Au cas o√π tu ___ (avoir) besoin.","options":["aurais","aies","as","avais"],"answer":0,"explanation":"'Au cas o√π' triggers CONDITIONNEL."},
  {"id":233,"category":"Grammar","question":"Tu manques ___ Marc. (Marc misses you)","options":["de","√†","sur","pour"],"answer":1,"explanation":"Manquer √Ä quelqu'un. (Note: 'Tu manques √† Marc' = Marc misses you)."},
  {"id":234,"category":"Text Types","question":"'En premier lieu' is used in:","options":["Debate/Essay","Diary","Poem","Dialogue"],"answer":0,"explanation":"Ordering arguments."},
  {"id":235,"category":"Idioms","question":"'Faire la t√™te':","options":["Make a head","To sulk","To think","To lead"],"answer":1,"explanation":"To sulk/pout."},
  {"id":236,"category":"Vocab","question":"'L'empreinte carbone':","options":["Carbon footprint","Carbon copy","Carbon paper","Burnt toast"],"answer":0,"explanation":"Carbon footprint."},
  {"id":237,"category":"False Friends","question":"'Une figure':","options":["A figure (number)","A face","A finger","A fig"],"answer":1,"explanation":"Face. Number = Chiffre."},
  {"id":238,"category":"Grammar","question":"Je me souviens ___ ce film.","options":["de","√†","sur","pour"],"answer":0,"explanation":"Se souvenir DE."},
  {"id":239,"category":"Connectors","question":"Du coup... (Familiar)","options":["So/Consequently","Suddenly","Of the blow","The cup"],"answer":0,"explanation":"So/Therefore (Informal)."},
  {"id":240,"category":"Text Types","question":"'Lu pour vous' is a heading for:","options":["Book Review","Diary","Letter","Speech"],"answer":0,"explanation":"'Read for you' (Review)."},
  {"id":241,"category":"Grammar","question":"Nous ___ (venir) de manger.","options":["venons","viendrons","venions","venus"],"answer":0,"explanation":"Venir de = Just did."},
  {"id":242,"category":"Vocab","question":"'SDF' (Sans Domicile Fixe):","options":["Homeless","Safe","Fed Ex","Rich"],"answer":0,"explanation":"Homeless person."},
  {"id":243,"category":"Idioms","question":"'C'est dommage':","options":["It's damaged","It's a shame/pity","It's good","It's sunday"],"answer":1,"explanation":"It's a pity."},
  {"id":244,"category":"False Friends","question":"'Rude' usually means:","options":["Rude","Rough/Harsh","Red","Ride"],"answer":1,"explanation":"Rough (Une √©preuve rude). Rude (impolite) = Impoli."},
  {"id":245,"category":"Connectors","question":"Tant√¥t... tant√¥t...","options":["Sometimes... sometimes","So much... so much","Aunt... aunt","Late... late"],"answer":0,"explanation":"Alternating states."},
  {"id":246,"category":"Grammar","question":"Faire ___ (Best)","options":["du mieux","le mieux","de mieux","au mieux"],"answer":0,"explanation":"Faire de son mieux (To do one's best)."},
  {"id":247,"category":"Vocab","question":"'La mondialisation':","options":["Globalization","Modification","Modeling","Moon"],"answer":0,"explanation":"Globalization."},
  {"id":248,"category":"Text Types","question":"Tone: 'Indign√©' (Indignant) fits:","options":["Protest Letter","Recipe","Manual","Invitation"],"answer":0,"explanation":"Angry/Protesting tone."},
  {"id":249,"category":"Connectors","question":"Soit... soit...","options":["Either... or","Be... be","Is... is","See... see"],"answer":0,"explanation":"Choice."},
  {"id":250,"category":"Idioms","question":"'Passer une nuit blanche':","options":["White night","Sleepless night","Snowy night","Bright night"],"answer":1,"explanation":"No sleep."},
  {"id":251,"category":"False Friends","question":"'Un habit':","options":["A habit","Clothes/Outfit","A house","A bit"],"answer":1,"explanation":"Clothes. Habit = Habitude."},
  {"id":252,"category":"Grammar","question":"Il s'int√©resse ___ sport.","options":["au","du","le","en"],"answer":0,"explanation":"S'int√©resser √Ä (au)."},
  {"id":253,"category":"Vocab","question":"'Le gaspillage alimentaire':","options":["Food waste","Food tasting","Food poisoning","Good food"],"answer":0,"explanation":"Wasting food."},
  {"id":254,"category":"Connectors","question":"√Ä mon avis...","options":["In my opinion","To my life","In my advice","To my friend"],"answer":0,"explanation":"Opinion."},
  {"id":255,"category":"Text Types","question":"'Sources:' at the bottom implies:","options":["Article/Report","Diary","Letter","Novel"],"answer":0,"explanation":"Citing sources."},
  {"id":256,"category":"Grammar","question":"Je joue ___ piano.","options":["du","au","le","en"],"answer":0,"explanation":"Jouer DE (instrument) -> Du."},
  {"id":257,"category":"Grammar","question":"Je joue ___ football.","options":["au","du","le","en"],"answer":0,"explanation":"Jouer √Ä (sport) -> Au."},
  {"id":258,"category":"Idioms","question":"'√ätre dans de beaux draps':","options":["In beautiful sheets","In a bad situation/mess","Sleeping well","Rich"],"answer":1,"explanation":"To be in trouble."},
  {"id":259,"category":"Vocab","question":"'Num√©rique':","options":["Digital","Number","Numerous","America"],"answer":0,"explanation":"Digital (e.g., fracture num√©rique)."},
  {"id":260,"category":"False Friends","question":"'Enfants':","options":["Infants (babies)","Children","Elephants","Fans"],"answer":1,"explanation":"Children (any age). Infant = B√©b√©."},
  {"id":261,"category":"Connectors","question":"En outre...","options":["Furthermore","In other","Outside","Enter"],"answer":0,"explanation":"Addition."},
  {"id":262,"category":"Text Types","question":"Direct Address ('Vous') is key for:","options":["Appeal/Speech","Diary","Report","Summary"],"answer":0,"explanation":"Engaging the audience."},
  {"id":263,"category":"Grammar","question":"Il est n√© ___ 1990.","options":["en","dans","√†","sur"],"answer":0,"explanation":"En + Year."},
  {"id":264,"category":"Idioms","question":"'Ne pas √™tre dans son assiette':","options":["Not in plate","Feeling unwell","Not eating","Missing dinner"],"answer":1,"explanation":"Feeling under the weather."},
  {"id":265,"category":"Vocab","question":"'Les imp√¥ts':","options":["Imports","Taxes","Important","Pots"],"answer":1,"explanation":"Taxes."},
  {"id":266,"category":"False Friends","question":"'Trainer':","options":["To train (sport)","To drag/hang out","To rain","To try"],"answer":1,"explanation":"Trainer = To drag. To train = S'entra√Æner."},
  {"id":267,"category":"Connectors","question":"Par contre...","options":["However/On the other hand","By against","For counter","By meeting"],"answer":0,"explanation":"Contrast."},
  {"id":268,"category":"Grammar","question":"C'est le livre de ___ ? (Who)","options":["qui","que","quoi","quel"],"answer":0,"explanation":"De qui (Whose)."},
  {"id":269,"category":"Text Types","question":"'Chronique':","options":["Column/Chronicle","Chronic","Clock","Crown"],"answer":0,"explanation":"Regular newspaper column."},
  {"id":270,"category":"Vocab","question":"'La pol√©mique':","options":["Controversy","Police","Polite","Pole"],"answer":0,"explanation":"Controversy."},
  {"id":271,"category":"Idioms","question":"'Faire la gueule':","options":["Make a face/Sulk","Smile","Shout","Eat"],"answer":0,"explanation":"To sulk (Familiar)."},
  {"id":272,"category":"Grammar","question":"Je suis ___ (born).","options":["n√©","nu","ni√©","nait"],"answer":0,"explanation":"N√©."},
  {"id":273,"category":"Connectors","question":"C'est-√†-dire...","options":["That is to say","It is to tell","Say it","To say"],"answer":0,"explanation":"Clarification."},
  {"id":274,"category":"False Friends","question":"'User':","options":["To use","To wear out","To user","To used"],"answer":1,"explanation":"User = To wear out (clothes/patience). To use = Utiliser."},
  {"id":275,"category":"Vocab","question":"'L'apprentissage':","options":["Apprentice","Learning/Apprenticeship","Printing","Appearing"],"answer":1,"explanation":"Learning process."},
  {"id":276,"category":"Grammar","question":"Je te l'ai dit. ('l' refers to?)","options":["It","Him","Her","Them"],"answer":0,"explanation":"'L'' replaces 'It' (the fact/sentence)."},
  {"id":277,"category":"Text Types","question":"'Envoyer' button graphic is for:","options":["Email/Blog","Letter","Diary","Report"],"answer":0,"explanation":"Digital format convention."},
  {"id":278,"category":"Idioms","question":"'Avoir le mal du pays':","options":["Country sickness","Homesick","Hating country","Sick of country"],"answer":1,"explanation":"Homesick."},
  {"id":279,"category":"Connectors","question":"Notamment...","options":["Notably/Especially","Not a lot","Note","No ment"],"answer":0,"explanation":"Example."},
  {"id":280,"category":"False Friends","question":"'Surnom':","options":["Surname","Nickname","Sir name","Surplus"],"answer":1,"explanation":"Nickname. Surname = Nom de famille."},
  {"id":281,"category":"Grammar","question":"Il ___ (falloir) que je parte.","options":["faut","fallait","faudra","a fallu"],"answer":0,"explanation":"Present: Il faut."},
  {"id":282,"category":"Vocab","question":"'Le commerce √©quitable':","options":["Fair trade","Equal commerce","Market","Free trade"],"answer":0,"explanation":"Fair trade."},
  {"id":283,"category":"Text Types","question":"'Mot de passe' (Password) prompt implies:","options":["Private Blog/Platform","Letter","Poster","Speech"],"answer":0,"explanation":"Restricted digital area."},
  {"id":284,"category":"Connectors","question":"Finalement...","options":["Finally","Final","Finish","Fine"],"answer":0,"explanation":"Conclusion."},
  {"id":285,"category":"Idioms","question":"'Rire jaune':","options":["Laugh yellow","Forced laugh","Laugh loud","Coward laugh"],"answer":1,"explanation":"To give a forced laugh."},
  {"id":286,"category":"Grammar","question":"Tu as ___ (tort).","options":["tort","raison","faim","soif"],"answer":0,"explanation":"Avoir tort (To be wrong)."},
  {"id":287,"category":"False Friends","question":"'Envie':","options":["Envy","Desire/Want","Send","Life"],"answer":1,"explanation":"Avoir envie = To want. Jalousie = Envy."},
  {"id":288,"category":"Vocab","question":"'La surconsommation':","options":["Overconsumption","Sure consumption","Under consumption","Consumer"],"answer":0,"explanation":"Buying too much."},
  {"id":289,"category":"Text Types","question":"'Logo' is essential for:","options":["Brochure/Official Document","Diary","Personal Email","Poem"],"answer":0,"explanation":"Branding/Official nature."},
  {"id":290,"category":"Connectors","question":"Ainsi...","options":["Thus/So","Also","And","If"],"answer":0,"explanation":"Consequence/Manner."},
  {"id":291,"category":"Grammar","question":"C'est ___ (better) que √ßa.","options":["mieux","meilleur","bien","bon"],"answer":0,"explanation":"Mieux (Adverb) modifies 'C'est'. Meilleur (Adj) modifies Noun."},
  {"id":292,"category":"Idioms","question":"'Voir la vie en rose':","options":["See life pink","Be optimistic","Like pink","Be girly"],"answer":1,"explanation":"To be optimistic."},
  {"id":293,"category":"Vocab","question":"'Le patrimoine':","options":["Heritage","Patriotism","Marriage","Pattern"],"answer":0,"explanation":"Cultural heritage."},
  {"id":294,"category":"False Friends","question":"'Vex√©':","options":["Vexed/Hurt/Offended","Fixed","Mixed","Vaccinated"],"answer":0,"explanation":"Offended."},
  {"id":295,"category":"Connectors","question":"D'un autre c√¥t√©...","options":["On the other hand","From another coast","Other side","Side by side"],"answer":0,"explanation":"Contrast."},
  {"id":296,"category":"Grammar","question":"On ___ (se parler) hier.","options":["s'est parl√©","s'est parl√©s","s'est parl√©e","s'est parl√©es"],"answer":0,"explanation":"Se parler (COI) -> No agreement."},
  {"id":297,"category":"Text Types","question":"'L√©gende' (Caption) goes with:","options":["Photo/Image","Title","Date","Signature"],"answer":0,"explanation":"Explanation of an image."},
  {"id":298,"category":"Vocab","question":"'L'urbanisme':","options":["Urban planning","Urban","Urbanity","Urgent"],"answer":0,"explanation":"City planning."},
  {"id":299,"category":"Idioms","question":"'Tourner autour du pot':","options":["Turn around pot","Beat around the bush","Cook stew","Dance"],"answer":1,"explanation":"To avoid the main topic."},
  {"id":300,"category":"Grammar","question":"Vivement ___ (vacances)!","options":["les vacances","des vacances","vacances","la vacance"],"answer":0,"explanation":"Vivement les vacances! (Can't wait for holidays)."}
];

            // Start Game Delay
            setTimeout(() => {
                startGame();
            }, 500);
        }

        function startGame() {
            // Shuffle and slice
            gameQueue = allQuestions.sort(() => 0.5 - Math.random()).slice(0, QUESTIONS_PER_ROUND);
            
            // Reset Stats
            score = 0;
            streak = 0;
            currentQIndex = 0;
            retryCount = 0;
            totalQuestionTime = 0;
            categoryPerformance = {};
            
            // Set Start Time (SGT)
            startTimeObj = new Date();
            
            // UI Switch
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            
            // Start Global Timer UI
            startHudTimer();
            loadUI();
        }

        function loadUI() {
            const qData = gameQueue[currentQIndex];
            
            // Start Q Timer
            questionStartTime = Date.now();
            
            // Update Headers
            document.getElementById('q-current').innerText = currentQIndex + 1;
            document.getElementById('q-total').innerText = gameQueue.length;
            document.getElementById('streak').innerText = streak;
            
            const pct = (currentQIndex / gameQueue.length) * 100;
            document.getElementById('progress-bar').style.width = `${pct}%`;

            document.getElementById('category-badge').innerText = qData.category;
            document.getElementById('question-text').innerText = qData.question;
            
            // Reset Feedback
            document.getElementById('feedback').classList.remove('show');
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            // Generate Buttons
            qData.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.onclick = () => handleAnswer(btn, idx, qData);
                container.appendChild(btn);
            });
        }

        function handleAnswer(btn, selectedIdx, qData) {
            // Calculate Time Spent
            const timeSpent = Date.now() - questionStartTime;
            totalQuestionTime += timeSpent;

            // Track Category
            if (!categoryPerformance[qData.category]) {
                categoryPerformance[qData.category] = { correct: 0, total: 0 };
            }
            categoryPerformance[qData.category].total++;

            // Disable buttons
            const allBtns = document.querySelectorAll('#options-container button');
            allBtns.forEach(b => b.disabled = true);

            const isCorrect = (selectedIdx === qData.answer);
            const feedbackBox = document.getElementById('feedback');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackExpl = document.getElementById('feedback-expl');

            if (isCorrect) {
                btn.classList.add('correct');
                feedbackTitle.innerText = "Correct! üéØ";
                feedbackTitle.style.color = "var(--correct)";
                score++;
                streak++;
                categoryPerformance[qData.category].correct++;
            } else {
                btn.classList.add('wrong');
                allBtns[qData.answer].classList.add('correct');
                feedbackTitle.innerText = "Incorrect ‚ùå";
                feedbackTitle.style.color = "var(--wrong)";
                streak = 0;
                retryCount++;
            }

            feedbackExpl.innerHTML = qData.explanation;
            feedbackBox.classList.add('show');
        }

        function nextQuestion() {
            currentQIndex++;
            if (currentQIndex < gameQueue.length) {
                loadUI();
            } else {
                finishGame();
            }
        }

        function finishGame() {
            endTimeObj = new Date();
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('end-screen').classList.remove('hidden');
            
            const finalPct = Math.round((score / QUESTIONS_PER_ROUND) * 100);
            const durationMs = endTimeObj - startTimeObj;
            const durationSec = Math.floor(durationMs / 1000);
            const avgTimePerQ = (totalQuestionTime / QUESTIONS_PER_ROUND / 1000).toFixed(1);
            
            let weakestCat = "None";
            let lowestAcc = 101;
            
            for (const [cat, data] of Object.entries(categoryPerformance)) {
                let acc = (data.correct / data.total) * 100;
                if (acc < lowestAcc) {
                    lowestAcc = acc;
                    weakestCat = cat;
                }
            }

            document.getElementById('end-score').innerText = `${finalPct}%`;
            document.getElementById('end-time').innerText = formatTime(durationSec);
            document.getElementById('end-avg').innerText = `${avgTimePerQ}s`;
            document.getElementById('end-weak').innerText = weakestCat;

            sendDataToCloud(finalPct, durationSec, avgTimePerQ, weakestCat);
        }

        function sendDataToCloud(pct, durationSec, avgTime, weakest) {
            
            // 1. Check if URL is configured
            if (!GOOGLE_SCRIPT_URL || GOOGLE_SCRIPT_URL.includes("PASTE_YOUR")) {
                document.getElementById('api-status').innerText = "‚ö†Ô∏è API URL not configured.";
                return;
            }

            const payload = {
                app_secret: "IB_FRENCH_2025_SECURE",
                date: getSGT(startTimeObj).split(',')[0],
                startTime: getSGT(startTimeObj).split(',')[1].trim(),
                endTime: getSGT(endTimeObj).split(',')[1].trim(),
                duration: formatTime(durationSec),
                score: score,
                total: QUESTIONS_PER_ROUND,
                percentage: `${pct}%`,
                retryCount: retryCount,
                avgTime: avgTime,
                weakestTopic: weakest
            };

            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            }).then(() => {
                document.getElementById('api-status').innerText = "‚úÖ Data saved to Google Sheets!";
                document.getElementById('api-status').style.color = "var(--correct)";
            }).catch(err => {
                document.getElementById('api-status').innerText = "‚ùå Save failed.";
            });
        }

        function getSGT(dateObj) {
            return dateObj.toLocaleString('en-SG', { timeZone: 'Asia/Singapore', hour12: false });
        }

        function formatTime(seconds) {
            const m = Math.floor(seconds / 60).toString().padStart(2, '0');
            const s = (seconds % 60).toString().padStart(2, '0');
            return `${m}:${s}`;
        }

        function startHudTimer() {
            const timerEl = document.getElementById('timer');
            const start = Date.now();
            setInterval(() => {
                const diff = Math.floor((Date.now() - start) / 1000);
                timerEl.innerText = formatTime(diff);
            }, 1000);
        }

    </script>
</body>
</html>
